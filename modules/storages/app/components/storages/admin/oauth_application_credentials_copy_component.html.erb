<%=
  flex_layout(flex_items: :center) do |credentials_row|
    credentials_row.with_row(mb: 3) do
      render(Primer::Beta::Flash.new(icon: :alert, scheme: :warning)) do
        I18n.t('storages.instructions.oauth_application_details', oauth_application_details_link: oauth_application_details_link).html_safe
      end
    end

    credentials_row.with_row(mb: 3) do
      render(
        OpenProject::Common::ClipboardCopyComponent.new(
          name: :openproject_oauth_application_uid,
          value_to_copy: oauth_application.uid,
          label: I18n.t('storages.label_openproject_oauth_client_id'),
          required: true
        )
      )
    end

    credentials_row.with_row(mb: 3) do
      render(
        OpenProject::Common::ClipboardCopyComponent.new(
          name: :openproject_oauth_application_secret,
          value_to_copy: oauth_application.secret,
          label: I18n.t('storages.label_openproject_oauth_client_secret'),
          required: true
        )
      )
    end

    credentials_row.with_row do
      # TODO: Check with product if "Done, Continue" button is context aware
      concat(render(Primer::Beta::Button.new(scheme: :primary, tag: :a, href: edit_admin_settings_storage_path(storage))) { I18n.t('storages.buttons.done_continue') })
      concat(render(Primer::Beta::Button.new(scheme: :default, tag: :a, href: edit_admin_settings_storage_path(storage))) { I18n.t('button_cancel') })
    end
  end
%>
